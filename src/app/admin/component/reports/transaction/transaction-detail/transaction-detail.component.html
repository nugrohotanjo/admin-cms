<section class="section">
  <div class="section-header">
    <div class="section-header-back">
        <a routerLink="/reports-transaction" class="btn btn-icon"><i class="fas fa-arrow-left"></i></a>
    </div>
    <h1>Transaction Detail</h1>
      <div class="section-header-breadcrumb">
      <div class="breadcrumb-item active"><a routerLink="/">Dashboard</a></div>
      <div class="breadcrumb-item">Transaction Detail</div>
    </div>
  </div>
</section>

<div class="row">
  <div class="col-md-12">
    <div class="card">
      <div class="card-header">
        <h4>Summary Transaction</h4>
      </div>
      <div class="card-body">
        <div class="row">
          <div class="col-md-6">
            <div class="heading">
              <p class="caption font-weight-bold">Policy Number</p>
              <p class="desc">{{ summaryTransaction?.policy_number }}</p>
            </div>
            <div class="heading">
              <p class="caption font-weight-bold">Inforce Date</p>
              <p class="desc">{{ summaryTransaction?.inforce_date | date:'dd MM yyyy' }}</p>
            </div>
            <div class="heading">
              <p class="caption font-weight-bold">Policy Status</p>
              <p class="desc">{{ summaryTransaction?.policy_status }}</p>
            </div>
            <div class="heading">
              <p class="caption font-weight-bold">BMI</p>
              <p class="desc">{{ summaryTransaction?.bmi | slice:0:5 }}</p>
            </div>
          </div>
          <div class="col-md-6">
            <div class="heading">
              <p class="caption font-weight-bold">Total Premi</p>
              <p class="desc">{{ summaryTransaction?.total_premi | currency:'Rp. ':'symbol':'3.0' }} </p>
            </div>
            <div class="heading">
              <p class="caption font-weight-bold">Currency Name</p>
              <p class="desc">{{ summaryTransaction?.currency_name }}</p>
            </div>
            <div class="heading">
              <p class="caption font-weight-bold">Currency Code</p>
              <p class="desc">{{ summaryTransaction?.currency_code }}</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="card">
      <div class="card-header">
        <h4>Product Information</h4>
      </div>
      <div class="card-body">
        <div class="row">
          <div class="col-md-6">
            <div class="heading">
              <p class="caption font-weight-bold">Total Premium Basic</p>
              <p class="desc" *ngIf="productInformation && productInformation[0]">{{ productInformation[0]?.total_premium | currency:'Rp. ':'symbol':'3.0' }}</p>
            </div>
            <div class="heading" *ngIf="productInformation && productInformation[0]">
              <p class="caption font-weight-bold">Payment Frequency</p>
              <p class="desc" *ngIf="productInformation[0]?.payment_frequency == 'y'"> Yearly</p>
              <p class="desc" *ngIf="productInformation[0]?.payment_frequency == 'h'"> Half Yearly</p>
              <p class="desc" *ngIf="productInformation[0]?.payment_frequency == 'q'"> Querterly</p>
              <p class="desc" *ngIf="productInformation[0]?.payment_frequency == 'm'"> Monthly</p>
            </div>
            <div class="heading">
              <p class="caption font-weight-bold">Promo Sales Name</p>
              <p class="desc" *ngIf="productInformation && productInformation[0]">{{ productInformation[0]?.promo_sales_name }}</p>
            </div>
            <div class="heading">
              <p class="caption font-weight-bold">Promo Sales Code</p>
              <p class="desc" *ngIf="productInformation && productInformation[0]">{{ productInformation[0]?.promo_sales_code }}</p>
            </div>
          </div>
          <div class="col-md-6">
            <div class="heading">
              <p class="caption font-weight-bold">Promo Name</p>
              <p class="desc" *ngIf="productInformation && productInformation[0]">{{ productInformation[0]?.promo_name }}</p>
            </div>
            <div class="heading">
              <p class="caption font-weight-bold">Promo Code</p>
              <p class="desc" *ngIf="productInformation && productInformation[0]">{{ productInformation[0]?.promo_code }}</p>
            </div>
            <div class="heading">
              <p class="caption font-weight-bold">Value Promo</p>
              <p class="desc" *ngIf="productInformation && productInformation[0].value_promo != 'Not Available'">{{ productInformation[0]?.value_promo | currency:'Rp. ':'symbol':'3.0' }}</p>
            </div>
          </div>
        </div>
        <hr />
        <div class="row">
          <div class="col-md-12">
            <table class="table">
              <thead>
                <th>Product Name</th>
                <th>Plan Name</th>
                <th>Premi</th>
              </thead>
              <tbody>
                <tr *ngFor="let product of productInformation;let i = index">
                  <td>
                    {{ product.product_name }}
                  </td>
                  <td>
                    {{ product.plan_name }}
                  </td>
                  <td>
                    {{ product.premium | currency:'Rp. ':'symbol':'3.0' }}
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>

    <div class="card" *ngIf="policyHolder != null">
      <div class="card-header">
        <h4>Policy Holder Information</h4>
      </div>
      <div class="card-body">
        <div class="row">
          <div class="col-md-6">
            <div class="heading">
              <p class="caption font-weight-bold">Full Name</p>
              <p class="desc" *ngIf="policyHolder.name != null">{{ policyHolder.name }}</p>
              <p class="desc" *ngIf="policyHolder.name == null">Not Available</p>
            </div>
            <div class="heading">
              <p class="caption font-weight-bold">Email</p>
              <p class="desc" *ngIf="policyHolder.email != null">{{ policyHolder.email }}</p>
              <p class="desc" *ngIf="policyHolder.email == null">Not Available</p>
            </div>
            <div class="heading">
              <p class="caption font-weight-bold">Gender</p>
              <p class="desc" *ngIf="policyHolder.gender != null && policyHolder.gender == 'm'">Male</p>
              <p class="desc" *ngIf="policyHolder.gender != null && policyHolder.gender == 'f'">Female</p>
              <p class="desc" *ngIf="policyHolder.gender == null">Not Available</p>
            </div>
            <div class="heading">
              <p class="caption font-weight-bold">Height</p>
              <p class="desc" *ngIf="policyHolder.height != null">{{ policyHolder.height }}</p>
              <p class="desc" *ngIf="policyHolder.height == null">Not Available</p>
            </div>
            <div class="heading">
              <p class="caption font-weight-bold">Weight</p>
              <p class="desc" *ngIf="policyHolder.weight != null">{{ policyHolder.weight }}</p>
              <p class="desc" *ngIf="policyHolder.weight == null">Not Available</p>
            </div>
            <div class="heading">
              <p class="caption font-weight-bold">Identity Type</p>
              <p class="desc" *ngIf="policyHolder.customer_id_type != null">{{ policyHolder.customer_id_type }}</p>
              <p class="desc" *ngIf="policyHolder.customer_id_type == null">Not Available</p>
            </div>
            <div class="heading">
              <p class="caption font-weight-bold">Address Line 1</p>
              <p class="desc" *ngIf="policyHolder.address_line_1 != null">{{ policyHolder.address_line_1 }}</p>
              <p class="desc" *ngIf="policyHolder.address_line_1 == null">Not Available</p>
            </div>
            <div class="heading">
              <p class="caption font-weight-bold">Address Line 2</p>
              <p class="desc" *ngIf="policyHolder.address_line_2 != null">{{ policyHolder.address_line_2 }}</p>
              <p class="desc" *ngIf="policyHolder.address_line_2 == null">Not Available</p>
            </div>
            <div class="heading">
              <p class="caption font-weight-bold">Address Line 3</p>
              <p class="desc" *ngIf="policyHolder.address_line_3 != null">{{ policyHolder.address_line_3 }}</p>
              <p class="desc" *ngIf="policyHolder.address_line_3 == null">Not Available</p>
            </div>
          </div>
          <div class="col-md-6">
            <div class="heading">
              <p class="caption font-weight-bold">Date of Birth</p>
              <p class="desc" *ngIf="policyHolder.dob != null">{{ policyHolder.dob }} (Year - Month - Date)</p>
              <p class="desc" *ngIf="policyHolder.dob == null">Not Available</p>
            </div>
            <div class="heading">
              <p class="caption font-weight-bold">Phone Number</p>
              <p class="desc" *ngIf="policyHolder.phone != null">+62 {{ policyHolder.phone }}</p>
              <p class="desc" *ngIf="policyHolder.phone == null">Not Available</p>
            </div>
            <div class="heading">
              <p class="caption font-weight-bold">Postal Code</p>
              <p class="desc" *ngIf="policyHolder.postal_code != null">{{ policyHolder.postal_code }}</p>
              <p class="desc" *ngIf="policyHolder.postal_code == null">Not Available</p>
            </div>
            <div class="heading">
              <p class="caption font-weight-bold">Mailing Address</p>
              <p class="desc" *ngIf="policyHolder.mailing_address != null">{{ policyHolder.mailing_address }}</p>
              <p class="desc" *ngIf="policyHolder.mailing_address == null">Not Available</p>
            </div>
            <div class="heading">
              <p class="caption font-weight-bold">Identity Number</p>
              <p class="desc" *ngIf="policyHolder.id_number != null">{{ policyHolder.id_number }}</p>
              <p class="desc" *ngIf="policyHolder.id_number == null">Not Available</p>
            </div>
            <div class="heading">
              <p class="caption font-weight-bold">City</p>
              <p class="desc" *ngIf="policyHolder.city != null">{{ policyHolder.city }}</p>
              <p class="desc" *ngIf="policyHolder.city == null">Not Available</p>
            </div>
            <div class="heading">
              <p class="caption font-weight-bold">Province</p>
              <p class="desc" *ngIf="policyHolder.province != null">{{ policyHolder.province }}</p>
              <p class="desc" *ngIf="policyHolder.province == null">Not Available</p>
            </div>
            <div class="heading">
              <p class="caption font-weight-bold">Marital Status</p>
              <p class="desc" *ngIf="policyHolder.marital_status != null">{{ policyHolder.marital_status }}</p>
              <p class="desc" *ngIf="policyHolder.marital_status == null">Not Available</p>
            </div>
            <div class="heading">
              <p class="caption font-weight-bold">Relationship</p>
              <p class="desc" *ngIf="policyHolder.relationship != null">{{ policyHolder.relationship }}</p>
              <p class="desc" *ngIf="policyHolder.relationship == null">Not Available</p>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <div class="card" *ngIf="policyInsured != null">
      <div class="card-header">
        <h4>Insured Information</h4>
      </div>
      <div class="card-body">
        <div class="row" *ngFor="let pi of policyInsured">
          <div class="col-md-6">
            <div class="heading">
              <p class="caption font-weight-bold">Full Name</p>
              <p class="desc" *ngIf="pi.name != null">{{ pi.name }}</p>
              <p class="desc" *ngIf="pi.name == null">Not Available</p>
            </div>
            <div class="heading">
              <p class="caption font-weight-bold">Email</p>
              <p class="desc" *ngIf="pi.email != null">{{ pi.email }}</p>
              <p class="desc" *ngIf="pi.email == null">Not Available</p>
            </div>
            <div class="heading">
              <p class="caption font-weight-bold">Gender</p>
              <p class="desc" *ngIf="pi.gender != null && pi.gender == 'm'">Male</p>
              <p class="desc" *ngIf="pi.gender != null && pi.gender == 'f'">Female</p>
              <p class="desc" *ngIf="pi.gender == null">Not Available</p>
            </div>
            <div class="heading">
              <p class="caption font-weight-bold">Height</p>
              <p class="desc" *ngIf="pi.height != null">{{ pi.height }}</p>
              <p class="desc" *ngIf="pi.height == null">Not Available</p>
            </div>
            <div class="heading">
              <p class="caption font-weight-bold">Weight</p>
              <p class="desc" *ngIf="pi.weight != null">{{ pi.weight }}</p>
              <p class="desc" *ngIf="pi.weight == null">Not Available</p>
            </div>
            <div class="heading">
              <p class="caption font-weight-bold">Identity Type</p>
              <p class="desc" *ngIf="pi.customer_id_type != null">{{ pi.customer_id_type }}</p>
              <p class="desc" *ngIf="pi.customer_id_type == null">Not Available</p>
            </div>
            <div class="heading">
              <p class="caption font-weight-bold">Address Line 1</p>
              <p class="desc" *ngIf="pi.address_line_1 != null">{{ pi.address_line_1 }}</p>
              <p class="desc" *ngIf="pi.address_line_1 == null">Not Available</p>
            </div>
            <div class="heading">
              <p class="caption font-weight-bold">Address Line 2</p>
              <p class="desc" *ngIf="pi.address_line_2 != null">{{ pi.address_line_2 }}</p>
              <p class="desc" *ngIf="pi.address_line_2 == null">Not Available</p>
            </div>
            <div class="heading">
              <p class="caption font-weight-bold">Address Line 3</p>
              <p class="desc" *ngIf="pi.address_line_3 != null">{{ pi.address_line_3 }}</p>
              <p class="desc" *ngIf="pi.address_line_3 == null">Not Available</p>
            </div>
          </div>
          <div class="col-md-6">
            <div class="heading">
              <p class="caption font-weight-bold">Date of Birth</p>
              <p class="desc" *ngIf="pi.dob != null">{{ pi.dob }} (Year - Month - Date)</p>
              <p class="desc" *ngIf="pi.dob == null">Not Available</p>
            </div>
            <div class="heading">
              <p class="caption font-weight-bold">Phone Number</p>
              <p class="desc" *ngIf="pi.phone != null">+62 {{ pi.phone }}</p>
              <p class="desc" *ngIf="pi.phone == null">Not Available</p>
            </div>
            <div class="heading">
              <p class="caption font-weight-bold">Postal Code</p>
              <p class="desc" *ngIf="pi.postal_code != null">{{ pi.postal_code }}</p>
              <p class="desc" *ngIf="pi.postal_code == null">Not Available</p>
            </div>
            <div class="heading">
              <p class="caption font-weight-bold">Mailing Address</p>
              <p class="desc" *ngIf="pi.mailing_address != null">{{ pi.mailing_address }}</p>
              <p class="desc" *ngIf="pi.mailing_address == null">Not Available</p>
            </div>
            <div class="heading">
              <p class="caption font-weight-bold">Identity Number</p>
              <p class="desc" *ngIf="pi.id_number != null">{{ pi.id_number }}</p>
              <p class="desc" *ngIf="pi.id_number == null">Not Available</p>
            </div>
            <div class="heading">
              <p class="caption font-weight-bold">City</p>
              <p class="desc" *ngIf="pi.city != null">{{ pi.city }}</p>
              <p class="desc" *ngIf="pi.city == null">Not Available</p>
            </div>
            <div class="heading">
              <p class="caption font-weight-bold">Province</p>
              <p class="desc" *ngIf="pi.province != null">{{ pi.province }}</p>
              <p class="desc" *ngIf="pi.province == null">Not Available</p>
            </div>
            <div class="heading">
              <p class="caption font-weight-bold">Marital Status</p>
              <p class="desc" *ngIf="pi.marital_status != null">{{ pi.marital_status }}</p>
              <p class="desc" *ngIf="pi.marital_status == null">Not Available</p>
            </div>
            <div class="heading">
              <p class="caption font-weight-bold">Relationship</p>
              <p class="desc" *ngIf="pi.relationship != null">{{ pi.relationship }}</p>
              <p class="desc" *ngIf="pi.relationship == null">Not Available</p>
            </div>
          </div>
          <hr />
        </div>
      </div>
    </div>

    <div class="card">
      <div class="card-header">
        <h4>Beneficiary Information</h4>
      </div>
      <div class="card-body">
        <div class="row" *ngFor="let pb of policyBeneficiary">
          <div class="col-md-6">
            <div class="heading">
              <p class="caption font-weight-bold">Full Name</p>
              <p class="desc" *ngIf="pb.name != null">{{ pb.name }}</p>
              <p class="desc" *ngIf="pb.name == null">Not Available</p>
            </div>
            <div class="heading">
              <p class="caption font-weight-bold">Gender</p>
              <p class="desc" *ngIf="pb.gender != null && pb.gender == 'm'">Male</p>
              <p class="desc" *ngIf="pb.gender != null && pb.gender == 'f'">Female</p>
              <p class="desc" *ngIf="pb.gender == null">Not Available</p>
            </div>
            <div class="heading">
              <p class="caption font-weight-bold">Identity Type</p>
              <p class="desc" *ngIf="pb.customer_id_type != null">{{ pb.customer_id_type }}</p>
              <p class="desc" *ngIf="pb.customer_id_type == null">Not Available</p>
            </div>
          </div>
          <div class="col-md-6">
            <div class="heading">
              <p class="caption font-weight-bold">Date of Birth</p>
              <p class="desc" *ngIf="pb.dob != null">{{ pb.dob }} (Year - Month - Date)</p>
              <p class="desc" *ngIf="pb.dob == null">Not Available</p>
            </div>
            <div class="heading">
              <p class="caption font-weight-bold">Identity Number</p>
              <p class="desc" *ngIf="pb.id_number != null">{{ pb.id_number }}</p>
              <p class="desc" *ngIf="pb.id_number == null">Not Available</p>
            </div>
            <div class="heading">
              <p class="caption font-weight-bold">Marital Status</p>
              <p class="desc" *ngIf="pb.marital_status != null">{{ pb.marital_status }}</p>
              <p class="desc" *ngIf="pb.marital_status == null">Not Available</p>
            </div>
            <div class="heading">
              <p class="caption font-weight-bold">Relationship</p>
              <p class="desc" *ngIf="pb.relationship != null">{{ pb.relationship }}</p>
              <p class="desc" *ngIf="pb.relationship == null">Not Available</p>
            </div>
          </div>
          <hr />
        </div>
        <div class="row"  *ngIf="policyBeneficiary != null && policyBeneficiary[0] == null">
          <div class="col-md-12">
            <h4>Not Available</h4>
          </div>
        </div>
      </div>
    </div>

    <div class="card">
      <div class="card-header">
        <h4>Payment Information</h4>
      </div>
      <div class="card-body">
        <div class="row" *ngIf="paymentInformation != null">
          <div class="col-md-6">
            <div class="heading">
              <p class="caption font-weight-bold">Amount</p>
              <p class="desc" *ngIf="paymentInformation.amount != null">{{ paymentInformation.amount | currency:'Rp. ':'symbol':'3.0' }}</p>
              <p class="desc" *ngIf="paymentInformation.amount == null">Not Available</p>
            </div>
            <div class="heading">
              <p class="caption font-weight-bold">Billing Date</p>
              <p class="desc" *ngIf="paymentInformation.bill_date != null">{{ paymentInformation.bill_date }}</p>
              <p class="desc" *ngIf="paymentInformation.bill_date == null">Not Available</p>
            </div>
            <div class="heading">
              <p class="caption font-weight-bold">Payment Group Type</p>
              <p class="desc" *ngIf="paymentInformation.payment_group_type != null">{{ paymentInformation.payment_group_type | uppercase }}</p>
              <p class="desc" *ngIf="paymentInformation.payment_group_type == null">Not Available</p>
            </div>
          </div>
          <div class="col-md-6">
            <div class="heading">
              <p class="caption font-weight-bold">Payment Type</p>
              <p class="desc" *ngIf="paymentInformation.payment_type != null">{{ paymentInformation.payment_type | uppercase }}</p>
              <p class="desc" *ngIf="paymentInformation.payment_type == null">Not Available</p>
            </div>
            <div class="heading">
              <p class="caption font-weight-bold">Service</p>
              <p class="desc" *ngIf="paymentInformation.service != null">{{ paymentInformation.service }}</p>
              <p class="desc" *ngIf="paymentInformation.service == null">Not Available</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="card">
      <div class="card-header">
        <h4>Bank Information</h4>
      </div>
      <div class="card-body">
        <div class="row" *ngIf="bankInformation != null">
          <div class="col-md-6">
            <div class="heading">
              <p class="caption font-weight-bold">Bank Name</p>
              <p class="desc" *ngIf="bankInformation.bank_name != null">{{ bankInformation.bank_name | uppercase }}</p>
              <p class="desc" *ngIf="bankInformation.bank_name == null">Not Available</p>
            </div>
            <div class="heading">
              <p class="caption font-weight-bold">Payment Type</p>
              <p class="desc" *ngIf="bankInformation.payment_type != null">{{ bankInformation.payment_type | uppercase }}</p>
              <p class="desc" *ngIf="bankInformation.payment_type == null">Not Available</p>
            </div>
          </div>
          <div class="col-md-6">
            <div class="heading">
              <p class="caption font-weight-bold">Card Type</p>
              <p class="desc" *ngIf="bankInformation.card_type != null">{{ bankInformation.card_type }}</p>
              <p class="desc" *ngIf="bankInformation.card_type == null">Not Available</p>
            </div>
            <div class="heading">
              <p class="caption font-weight-bold">Issued Card</p>
              <p class="desc" *ngIf="bankInformation.issued_card != null">{{ bankInformation.issued_card }}</p>
              <p class="desc" *ngIf="bankInformation.issued_card == null">Not Available</p>
            </div>
          </div>
        </div>
        <div class="row"  *ngIf="bankInformation == null">
          <div class="col-md-12">
            <h4>Not Available</h4>
          </div>
        </div>
      </div>
    </div>

    <div class="card">
      <div class="card-header">
        <h4>Epolicy Information</h4>
      </div>
      <div class="card-body">
        <div class="row">
          <div class="col-md-6">
            <div class="heading">
              <p class="caption font-weight-bold">Epolicy</p>
              <p class="desc">
                <a href="{{ dataUrl }}/policy-master/epolicy/download/{{ summaryTransaction?.policy_number }}" target="_BLANK">
                  <img src="assets/img/pdf.png" width="100px" height="150px">
                </a>
              </p>
            </div>
          </div>
        </div>
    </div>

  </div>
</div>